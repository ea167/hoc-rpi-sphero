<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags MUST come first in the head; any other head content must come AFTER these tags -->

    <title>Hausner Hour of Code - Raspberry Pi - Node.js - Sphero</title>
    <meta name="author" content="Eric Amram">
    <meta name="description" content="Open source project for the Hour of Code, Sun Dec 6, 2015">


    <!-- Bootstrap CSS. See http://codemirror.net -->
    <link href="lib/bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="lib/bootstrap-3.3.6-dist/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- CodeMirror CSS. See http://codemirror.net -->
    <link rel="stylesheet" href="lib/codemirror-5.9/lib/codemirror.css">
    <link rel="stylesheet" href="lib/codemirror-5.9/theme/elegant.css">

    <!-- FIXME !!! -->
    <link href="css/style.css" rel="stylesheet">

</head>
<body>


    <!-- Description Header -->
    <div class="page-header">
        <div class="container">
            <div class="row">
                <div class="col-xs-4">
                    <img src="images/hoc-banner.jpg" height="138" />
                </div><!-- .col-lg-4 -->
                <div class="col-xs-8">
                    <h2>Hausner Hour of Code</h2>
                    <p>Javascript Fun with <em>Raspberry-Pi</em> &amp; <em>Sphero</em></p>
                </div><!-- .col-lg-9 -->
            </div>

            <div class="row" style="margin-top:50px; margin-bottom:20px;">
                <div class="col-xs-6 text-center">

                    <label>Your Name:  &nbsp;</label>   <!-- TODO: By default come up randomly from a set of funny names, with -2|3|4... -->
                    <input type="text" id="student_name" size="40" value="Mama Bear" />  <!-- FIXME: rest must be hidden when empty -->

                </div>
                <div class="col-xs-6 text-left">

                    <label>Choose your Sphero: &nbsp;</label>
                    <select id="rpi_sphero" onchange="this.className=this.options[this.selectedIndex].className" class="blue-bg-txt">
                        <option value="green0"  class="green-bg-txt">RPi Green - Sphero Dark Green</option>
                        <option value="green1"  class="green-bg-txt">RPi Green - Sphero Light Green</option>
                        <option value="blue0"   class="blue-bg-txt"  disabled="disabled">RPi Blue  - Sphero Dark Blue</option>
                        <option value="blue1"   class="blue-bg-txt"  selected="selected">RPi Blue  - Sphero Light Blue</option>
                        <!-- FIXME -->
                    </select>

                </div>
            </div><!-- row -->

        </div><!-- .container -->
    </div><!-- .header -->





    <div class="container-fluid">

        <!-- Nav bar with Beginners first, Advanced next. 2 different background colors. Last nav switches from one to another -->
        <div class="row" style="margin-top:0px; margin-bottom:0px;">
            <div class="col-xs-12">
                <div class="btn-toolbar" role="toolbar" aria-label="Examples of code">
                    <div class="navbar-header" style="margin-top:-8px;">
                        <div class="navbar-brand">Examples: Beginner</div>
                    </div>
                    <div class="btn-group" role="group" aria-label="Beginner">
                        <button id="beginner1" type="button" class="btn btn-default">Simply Roll</button>
                        <button id="beginner2" type="button" class="btn btn-default">Turn</button>
                        <button id="beginner3" type="button" class="btn btn-default">Draw an 8</button>
                        <button id="beginner4" type="button" class="btn btn-default">Color Fiesta</button>
                        <button id="beginner5" type="button" class="btn btn-default">Follow Bob</button>
                    </div>
                    <div class="navbar-header" style="margin-top:-8px;">
                        <div class="navbar-brand">Advanced</div>
                    </div>
                    <div class="btn-group" role="group" aria-label="Advanced">
                        <button id="advanced1" type="button" class="btn btn-info">Random Sumo</button>
                        <button id="advanced2" type="button" class="btn btn-info">Target Locked</button>
                        <button id="advanced3" type="button" class="btn btn-info">Smart Sumo!</button>
                    </div>
                </div>
            </div>
        </div>

        <!--
            BEGINNER
            1. Roll straight
            2. Turn
            3. Round 8
            4. Follow other Rpi
            5. Flashes color (but comes back to original!)

            ADVANCED
            1. Random move, stays inside the square
            2. Follow 1st RPi by anticipating to hit
            3. Smarter Sumo algo!
        -->

        <div class="row hidden" style="margin-top:10px; margin-bottom:10px;">
            <div class="col-xs-12">
                <pre id="example_code" class="pre-scrollable">
                    // To be filled by JS
                    var x=1;
                    function youyou() {
                    }
                </pre>
            </div>
            <div class="col-xs-3 col-xs-offset-9">
                <button class="btn btn-primary">Use as source in code editor</div>
            </div>
        </div>

        <!-- JS Editor FIXME: size? -->
        <div id="code_mirror_id"></div>



        <!-- ===== Buttons for HELP, HISTORY, PUSH ===== -->
        <div class="row" style="margin-top:30px; margin-bottom:20px; vertical-align:bottom;">

            <div class="col-xs-5 text-center">
                <button id="trigger_help" class="btn btn-info">Documentation &amp; Help</button>
                <button id="trigger_history" class="btn btn-default">Retrieve Code History</button>
            </div>

            <!-- Button Send code to Sphero : student-name + which Sphero + Code  -->
            <div class="col-xs-2 col-xs-offset-1 text-right">
                <button id="stop_sphero" class="btn btn-danger">STOP Sphero</button>
            </div>

            <div class="col-xs-4 text-left">
                <button id="push_to_sphero" class="btn btn-success btn-lg" style="margin-top:-12px;"
                    >Send code to RPi &amp; Sphero</button>
            </div>

        </div>


        <!-- JS HELP (Button with side panel)  -->
        <div id="slider_help" class="panel panel-default" style="background-color:yellow;">
            <div class="panel-heading" style="padding:0px;">
                <button type="button" class="close" style="margin-top:0px; padding-top:0px;"
                    onclick="$('#slider_help').slideReveal('hide');">
                    <span style="font-size:16px; font-weight:normal">close</span> &times;</button>
                <h4 class="bg-info text-center" style="padding:25px 10px 15px 10px; margin:0px;">
                    Documentation &amp; Help
                </h4>
            </div>
            <div class="panel-body">
                This is the Help Section
                TODO!!!
            </div>
        </div>


        <!-- (Button with side panel) Editor History: everything is backed up in localStorage... not too much data? Diff only ?
             Every 30s, every click on Nav, every push to Sphero  -->
        <div id="slider_history"  style="background-color:purple;">
             This is the History Section
             TODO!!!
        </div>


    </div><!-- Main container (full-width) -->



    <!-- ======= JS LIBs: jQuery + Bootstrap + CodeMirror + SlideReveal + ... ======= -->

    <!--   Place js files at the end of the document -->
    <script src="lib/jquery-2.1.4.min.js"></script>
    <script src="lib/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>

    <!-- CodeMirror. See http://codemirror.net FIXME: Use a module loader !!! -->
    <script src="lib/codemirror-5.9/lib/codemirror.js"></script>
    <script src="lib/codemirror-5.9/mode/javascript/javascript.js"></script>

    <!-- SlideReveal jQuery plugin. See http://nnattawat.github.io/slideReveal/ -->
    <script src="lib/jquery.slidereveal.min.js"></script>

    <script type="text/javascript">
        // --- Init CodeMirror
        var codeMirrorEditor = CodeMirror( document.getElementById("code_mirror_id"), {
            value: " // Type your code here\n function myScript(){return 100;}\n",
            lineNumbers: true,
            indentUnit: 4,
            mode:  "javascript"
        });

        // --- Make browserWebSocket globally available
        var browserWebSocket = null;

        // --- Init SlideReveal
        $('#slider_help').slideReveal({
          trigger: $("#trigger_help"),      // width: 500,
          position: "right",                // overlay: true,
          push: false
        });
        $('#slider_history').slideReveal({
          trigger: $("#trigger_history"),   // width: 500,
          position: "right",
          overlay: true,
          push: false
        });

        // FIXME Test of scroll
        $('body').animate({
            scrollTop: $("#student_name").offset().top
        }, 2000);

    </script>

        <!-- Other JS libs -->
        <!--script src="js/FIXME.js"></script-->

    <!-- FIXME JS recording code, from browserify -->
    <script src="js/browser.js"></script>

</div>
</body>
</html>
